extends ../layout

block content
    link( rel="stylesheet" type="text/css" href="/stylesheets/headUpload/font-awesome.4.6.0.css")
    link( rel="stylesheet" type="text/css" href="/stylesheets/headUpload/amazeui.min.css")
    link( rel="stylesheet" type="text/css" href="/stylesheets/headUpload/amazeui.cropper.css")
    link( rel="stylesheet" type="text/css" href="/stylesheets/headUpload/custom_up_img.css")
    style.
        .up-img-cover {width: 200px;height: 200px; border-radius:0; margin-top: 150px;}
        .up-img-cover img{width: 100%;}
    center
        div(class="up-img-cover"  id="up-img-touch")
            h1.text-center 头像上传
            img( alt="点击图片上传" src="#{locals.user.headImg}" data-am-popover="{content: '点击上传', trigger: 'hover focus'}")

    div
        a(style="text-align: center; display: block;"  id="pic")


    div(class="am-modal am-modal-no-btn up-frame-bj " tabindex="-1" id="doc-modal-1")
        div(class="am-modal-dialog up-frame-parent up-frame-radius")
            div(class="am-modal-hd up-frame-header")
                label 修改头像
                a(href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close) &times;
            div(class="am-modal-bd  up-frame-body")
                div(class="am-g am-fl")
                    div(class="am-form-group am-form-file")
                        div(class="am-fl")
                            button(type="button" class="am-btn am-btn-default am-btn-sm")
                                i(class="am-icon-cloud-upload") 选择要上传的文件

                        input(type="file" id="inputImage")
                div(class="am-g am-fl")
                    div(class="up-pre-before up-frame-radius")
                        img(alt="" src="" id="image")
                    div(class="up-pre-after up-frame-radius")
                div(class="am-g am-fl")
                    div(class="up-control-btns")
                        span(class="am-icon-rotate-left"  onclick="rotateimgleft()")
                        span(class="am-icon-rotate-right" onclick="rotateimgright()")
                        span(class="am-icon-check" id="up-btn-ok" url="/headupload")
    //加载框
    div(class="am-modal am-modal-loading am-modal-no-btn" tabindex="-1" id="my-modal-loading")
        div(class="am-modal-dialog")
            div(class="am-modal-hd") 正在上传...
            div(class="am-modal-bd")
                span(class="am-icon-spinner am-icon-spin")
    div(class="am-modal am-modal-alert" tabindex="-1" id="my-alert")
        div(class="am-modal-dialog")
            div(class="am-modal-hd") 信息
            div(class="am-modal-bd"  id="alert_content") 成功了
            div(class="am-modal-footer")
                 span(class="am-modal-btn") 确定
    script(src="javascripts/headupload/amazeui.min.js")
    script(src="javascripts/headupload/cropper.min.js")
    script(src="javascripts/headupload/custom_up_img.js")
